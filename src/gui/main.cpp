#include "mainwindow.h"
#include <QApplication>
#include <QSplashScreen>
#include <QTimer>
#include <iostream>

#include <vector>
#include "tree.h"
#include "fitmodeltreewrapper.h"

int main(int argc, char *argv[])
{
/*
    Tree *t = new Tree("testtree", "(((p1c024-62:0.000000::0.148366,(p1c014-30:0.000000::0.148366,(p1c061-11:0.046603::0.266268,p1c045-98:0.013123::0.224223):0.019278::0.178580):0.000000::0.148366):0.000000::0.148366,(p1c024-61:0.013810::0.192231,(p1c024-53:0.012054::0.280187,(p1c024-60:0.019718::0.288830,(p1c024-44:0.019180::0.288223,p1c024-71:0.006148::0.273526):0.000000::0.266601):0.000000::0.266601):0.032236::0.221714):0.007486::0.161059):0.006562::0.135285,(p1c014-32:0.000000::0.122036,((p1c003-24:0.006774::0.132061,(p1c003-16:0.006469::0.131610,p1c014-05:0.006973::0.132355):0.000000::0.122036):0.000000::0.122036,((p1c034-86:0.000000::0.122036,(p1c003-18:0.000000::0.122036,p1c003-15:0.022373::0.154981):0.000000::0.122036):0.000000::0.122036,(p1c014-25:0.006550::0.131730,(p1c003-19:0.000000::0.122036,(p1c003-20:0.000000::0.122036,(((p1c045-86:0.019417::0.138482,p1c051-323:0.031948::0.157100):0.006080::0.098979,((p1c024-57:0.060905::0.096048,(p1c014-12:0.000000::0.084245,p1c014-38:0.012837::0.104400):0.000000::0.084245):0.006806::0.086487,(((p1c066-128:0.006543::0.158835,(p1c066-127:0.000000::0.166777,p1c051-115:0.000000::0.166777):0.006126::0.158247):0.019608::0.119757,(p1c014-33:0.026466::0.191556,p1c014-27:0.034684::0.202867):0.019596::0.122318):0.000000::0.088563,(p1c014-24:0.026217::0.129202,(p1c014-22:0.012961::0.129637,p1c024-55:0.019200::0.138973):0.006547::0.099416):0.000000::0.088563):0.000000::0.088563):0.000000::0.088563):0.000000::0.088563,((p1c034-66:0.000000::0.094678,p1c034-77:0.013149::0.114976):0.006989::0.083384,(p1c024-52:0.053864::0.149819,(p1c034-75:0.026048::0.097750,((p1c034-79:0.034314::0.104902,((p1c034-67:0.019522::0.081379,(p1c045-84:0.026331::0.092470,(p1c034-81:0.006564::0.060069,((p1c045-93:0.052070::0.160288,(p1c034-64:0.019006::0.135027,(p1c051-326:0.089354::0.253456,p1c045-81:0.033115::0.175687):0.005787::0.116980):0.006767::0.092991):0.006760::0.064450,(p1c045-435:0.031114::0.093690,(p1c051-106:0.012502::0.082175,((p1c061-03:0.051956::0.276283,p1c068-158:0.056795::0.282230):0.023210::0.172492,(((p1c061-06:0.017818::0.207673,(p1c068-149:0.036602::0.279772,p1c061-08:0.005870::0.242841):0.018266::0.210436):0.000000::0.184012,(((p1c066-126:0.000000::0.260903,p1c051-114:0.000000::0.260903):0.023784::0.232096,(p1c061-01:0.011672::0.218399,(p1c066-132:0.000000::0.206494,(p1c051-120:0.000000::0.206494,(p1c077-173:0.029992::0.244888,(p1c068-151:0.006581::0.213355,(((p1c077-317:0.020138::0.243055,(p1c077-313:0.005116::0.322608,p1c077-176:0.027145::0.344903):0.039202::0.270005):0.006616::0.207758,((p1c077-308:0.011920::0.241368,p1c077-306:0.026126::0.258798):0.013824::0.207499,(p1c077-315:0.034082::0.149420,(p1c077-307:0.019747::0.219532,(p1c077-311:0.031743::0.253615,p1c077-167:0.027089::0.247766):0.006696::0.203763):0.005813::0.184295):0.006704::0.181272):0.007362::0.192601):0.007929::0.200383,((p1c068-146:0.000000::0.219667,p1c068-144:0.025052::0.250782):0.006108::0.211493,((p1c068-150:0.006507::0.228531,p1c066-123:0.013065::0.236670):0.006472::0.211897,(p1c068-141:0.006413::0.211424,(p1c066-136:0.006413::0.229105,p1c068-147:0.013239::0.237566):0.006737::0.212253):0.000000::0.203199):0.000000::0.203199):0.000000::0.203199):0.006082::0.204109):0.011777::0.205991):0.005581::0.206658):0.000000::0.206494):0.016895::0.205249):0.005390::0.202517):0.000000::0.201538,(p1c066-121:0.018263::0.239573,p1c068-159:0.053115::0.282627):0.005130::0.209192):0.021153::0.193243):0.016799::0.173000,(p1c061-04:0.031667::0.284805,p1c061-13:0.009235::0.258436):0.029919::0.205921):0.015774::0.146964):0.024924::0.097945):0.015256::0.047734):0.013822::0.046121):0.000000::0.049184):0.000000::0.049184):0.000000::0.049184):0.007369::0.048983,(p1c045-96:0.025097::0.109652,(p1c045-92:0.006288::0.122423,p1c045-440:0.025649::0.151270):0.012966::0.091592):0.005624::0.059196):0.000000::0.048681):0.010120::0.047066,(p1c045-90:0.013623::0.068588,(p1c061-12:0.019070::0.071614,(p1c061-05:0.026583::0.114944,(p1c066-134:0.025860::0.132514,p1c061-10:0.024617::0.130594):0.005549::0.082617):0.019317::0.049465):0.023937::0.043688):0.011788::0.045771):0.006636::0.050335):0.006876::0.059957):0.006704::0.068255):0.018761::0.080610):0.007144::0.105411):0.000000::0.122036):0.000000::0.122036):0.000000::0.122036):0.000000::0.122036):0.000000::0.122036):0.000000::0.122036,p1c003-17:0.013131::0.141432);");
    //Tree *t = new Tree("(A,B,(C,D)E)p1c024-62:0.000000::0.148366");
    t->PrintLeavesBarChart();
    t->PrintFarthestLeaf();
    delete t;
    Tree::LoadTreesFromFile("C:/Users/davide/Desktop/fitmodel/example/p1.nxs_trees_w1");

*/

/*
    std::vector<FitModelTreeWrapper *> *trees = FitModelTreeWrapper::LoadForest("C:/Users/davide/Desktop/fitmodel/example/p1.nxs_trees_w1");

    return 0;
    */


    QApplication a(argc, argv);

    QSplashScreen *splash = new QSplashScreen;
    splash->setPixmap(QPixmap(":/assets/splash.png"));
    splash->show();

    MainWindow w;
    QTimer::singleShot(2500, splash, SLOT(close()));
    QTimer::singleShot(3000, &w, SLOT(show()));
    // w.show();

    return a.exec();
}
